import{C as r}from"./ContactForm-CKvHY5kH.js";import{_ as i,C as c,c as h,d as u,a as n,t as l,e as p,r as m,o as d}from"./index-IcqfLf02.js";const _={components:{ContactForm:r},props:{id:{type:String,required:!0}},data(){return{contact:null,message:""}},methods:{async getContact(t){try{this.contact=await c.get(t)}catch(e){console.log(e),this.$router.push({name:"notfound",params:{pathMatch:this.$route.path.split("/").slice(1)},query:this.$route.query,hash:this.$route.hash})}},async updateContact(t){try{await c.update(this.contact._id,t),alert("Liên hệ được cập nhật thành công."),this.$router.push({name:"contactbook"})}catch(e){console.log(e)}},async deleteContact(){if(confirm("Bạn muốn xóa Liên hệ này?"))try{await c.delete(this.contact._id),this.$router.push({name:"contactbook"})}catch(t){console.log(t)}}},created(){this.getContact(this.id),this.message=""}},C={key:0,class:"page"},g=n("h4",null,"Hiệu chỉnh Liên hệ",-1);function y(t,e,f,k,o,a){const s=m("ContactForm");return o.contact?(d(),h("div",C,[g,u(s,{contact:o.contact,"onSubmit:contact":a.updateContact,"onDelete:contact":a.deleteContact},null,8,["contact","onSubmit:contact","onDelete:contact"]),n("p",null,l(o.message),1)])):p("",!0)}const b=i(_,[["render",y]]);export{b as default};
